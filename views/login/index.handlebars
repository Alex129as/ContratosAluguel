<h1>Logar</h1>

    <input type="text" name="usuario" id="usuario">
    <input type="password" name="password" id="password">

    <button type="button" onclick="submit()">Logar</button>

    <div class="spinner-border text-primary" role="status">
    <span class="sr-only">Loading...</span>
    </div>

<script type="text/javascript">

    submit = async () => {

        const usuario =  document.getElementById("usuario").value;
        const password = document.getElementById("password").value;

        const result = await fetch('/auth/user', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json'},     
            body: JSON.stringify({
                 usuario,
                 password
            })
        }).then((response)=> response.json());

        if(result.codeMessage === 201){

            swal({
                position: "center",
                type: "warning",
                text: result.Menssage
            });

        }else{

            location.href = "/dashboard";

        }


    }
    

</script>